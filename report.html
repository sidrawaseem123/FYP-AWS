<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Automated Production Module - Progress Report</title>
    <style>
        /* Basic CSS styling for demonstration */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }

        header {
            text-align: center;
            background-color: #090b5d;
            color: white;
            padding: 20px;
        }

        section {
            margin: 20px 0;
            padding: 10px;
            background-color: white;
            border: 1px solid #ddd;
        }

        footer {
            text-align: center;
            color: #666;
            padding: 10px;
            font-size: 0.8em;
        }

        .download-button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #10175f;
            color: white;
            text-align: center;
            text-decoration: none;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
    <!-- Include jsPDF library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script>
        function generatePdfSummary() {
            const { jsPDF } = window.jspdf;

            // Get the current date and format it
            const now = new Date();
            const formattedDate = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;

            // Create a new PDF document
            const pdf = new jsPDF();

            // Set title and date
            pdf.setFontSize(18);
            pdf.text("Automated Production Module - Progress Report", 20, 30);
            pdf.setFontSize(12);
            pdf.text(`Date: ${formattedDate}`, 20, 40);

            // Add report content
            pdf.setFontSize(14);
            pdf.text("Key Performance Indicators (KPIs):", 20, 60);

            pdf.setFontSize(12);
            pdf.text("- Production Output: 1,500 units", 20, 70);
            pdf.text("- Defect Rate: 2.5%", 20, 80);
            pdf.text("- Machine Uptime: 98%", 20, 90);

            pdf.text("Production Timeline:", 20, 110);
            pdf.text("- Placeholder for timeline or production events", 20, 120);

            pdf.text("Maintenance and Issues:", 20, 140);
            pdf.text("- Machine 1 required maintenance on 2024-05-01.", 20, 150);
            pdf.text("- Machine 2 had an error causing a delay.", 20, 160);

            pdf.text("Comments and Feedback:", 20, 180);
            pdf.text("Overall, production is on track.", 20, 190);

            // Save the PDF with a dynamic filename
            const fileName = `Production_Report_${formattedDate.replace(/[^0-9]/g, '')}.pdf`;
            pdf.save(fileName);
        }
    </script>
</head>
<body>

<header>
    <h1>Automated Production Module - Progress Report</h1>
    <p>Date: <span id="report-date"></span></p>
</header>

<section>
    <h2>Key Performance Indicators (KPIs)</h2>
    <p>Production Output: 1,500 units</p>
    <p>Defect Rate: 2.5%</p>
    <p>Machine Uptime: 98%</p>
</section>

<section>
    <h2>Maintenance and Issues</h2>
    <p>Machine 1 required maintenance on 2024-05-01.</p>
    <p>Machine 2 had an error causing a delay.</p>
</section>

<section>
    <h2>Comments and Feedback</h2>
    <p>Overall, production is on track. Minor issues were resolved promptly.</p>
</section>

<!-- Download button to download the PDF summary -->
<button class="download-button" onclick="generatePdfSummary()">Download PDF Summary</button>

<footer>
    <p>Generated by Automated Production Module - Â© 2024 Textile Corp.</p>
</footer>

<script>
    // Display the current date at the top of the report
    const now = new Date();
    const formattedDate = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}:${String(now.getHours()).padStart(2, '0')}`;
    document.getElementById("report-date").innerText = formattedDate;
</script>

</body>
</html>
